<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Player Component Demo</title>
    <link rel="stylesheet" href="image-player.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d3748 100%);
            margin: 0;
            padding: 2rem;
            color: white;
            min-height: 100vh;
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .demo-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ff6b6b, #667eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .demo-subtitle {
            font-size: 1.1rem;
            color: #a0aec0;
            margin-bottom: 2rem;
        }
        
        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #ff6b6b;
        }
        
        .controls-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .demo-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .demo-btn:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        
        .demo-btn:disabled {
            background: #4a5568;
            cursor: not-allowed;
            transform: none;
        }
        
        .url-input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        
        .url-input::placeholder {
            color: #a0aec0;
        }
        
        .url-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }
        
        .status-indicator {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
            font-weight: 500;
        }
        
        .status-indicator.loaded {
            border-left: 4px solid #48bb78;
        }
        
        .status-indicator.error {
            border-left: 4px solid #ff6b6b;
        }
        
        .status-indicator.loading {
            border-left: 4px solid #ed8936;
        }
        
        @media (max-width: 768px) {
            .controls-demo {
                grid-template-columns: 1fr;
            }
            
            .demo-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1 class="demo-title">üñºÔ∏è Image Player Component</h1>
        <p class="demo-subtitle">Interactive image viewer with zoom, pan, and controls</p>
    </div>

    <div class="demo-container">
        <div class="demo-section">
            <h2 class="section-title">Image Display</h2>
            <div id="imageContainer"></div>
            
            <div class="status-indicator" id="statusIndicator">
                <span>Ready to load image</span>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="section-title">Controls</h2>
            <div class="controls-demo">
                <div class="control-group">
                    <h3>Image URL</h3>
                    <input type="url" 
                           class="url-input" 
                           id="imageUrlInput" 
                           placeholder="Enter image URL (e.g., https://picsum.photos/800/600)"
                           value="https://picsum.photos/800/600">
                    <button class="demo-btn" id="loadImageBtn">Load Image</button>
                </div>
                
                <div class="control-group">
                    <h3>Sample Images</h3>
                    <button class="demo-btn" id="loadSample1Btn">Nature Image</button>
                    <button class="demo-btn" id="loadSample2Btn">City Image</button>
                    <button class="demo-btn" id="loadSample3Btn">Abstract Image</button>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="section-title">Features</h2>
            <ul style="color: #a0aec0; line-height: 1.8;">
                <li><strong>Zoom Controls:</strong> Mouse wheel, +/- keys, or control buttons</li>
                <li><strong>Pan When Zoomed:</strong> Click and drag to move around the image</li>
                <li><strong>Touch Support:</strong> Pinch to zoom, drag to pan on mobile devices</li>
                <li><strong>Keyboard Shortcuts:</strong> + (zoom in), - (zoom out), 0 (reset zoom)</li>
                <li><strong>Loading States:</strong> Shows spinner while loading, error handling</li>
                <li><strong>Responsive:</strong> Adapts to different screen sizes</li>
            </ul>
        </div>
    </div>

    <script type="module">
        import { ImagePlayer } from './ImagePlayer.js';
        
        // Initialize image player
        const imagePlayer = new ImagePlayer('imageContainer', {
            showControls: true,
            allowZoom: true
        });
        
        // Get DOM elements
        const imageUrlInput = document.getElementById('imageUrlInput');
        const loadImageBtn = document.getElementById('loadImageBtn');
        const loadSample1Btn = document.getElementById('loadSample1Btn');
        const loadSample2Btn = document.getElementById('loadSample2Btn');
        const loadSample3Btn = document.getElementById('loadSample3Btn');
        const statusIndicator = document.getElementById('statusIndicator');
        
        // Sample images
        const sampleImages = [
            'https://picsum.photos/800/600?random=1',
            'https://picsum.photos/800/600?random=2',
            'https://picsum.photos/800/600?random=3'
        ];
        
        // Event listeners
        loadImageBtn.addEventListener('click', () => {
            const url = imageUrlInput.value.trim();
            if (url) {
                loadImage(url);
            } else {
                updateStatus('error', 'Please enter a valid image URL');
            }
        });
        
        loadSample1Btn.addEventListener('click', () => loadImage(sampleImages[0]));
        loadSample2Btn.addEventListener('click', () => loadImage(sampleImages[1]));
        loadSample3Btn.addEventListener('click', () => loadImage(sampleImages[2]));
        
        // Image player event listeners
        imagePlayer.addEventListener('imageLoaded', (e) => {
            updateStatus('loaded', `‚úÖ Image loaded successfully! Zoom: ${Math.round(imagePlayer.getZoomLevel() * 100)}%`);
        });
        
        imagePlayer.addEventListener('imageError', (e) => {
            updateStatus('error', '‚ùå Failed to load image. Please check the URL and try again.');
        });
        
        imagePlayer.addEventListener('zoomChanged', (e) => {
            const zoomLevel = e.detail.zoomLevel;
            updateStatus('loaded', `Image loaded. Current zoom: ${Math.round(zoomLevel * 100)}%`);
        });
        
        // Functions
        function loadImage(url) {
            updateStatus('loading', '‚è≥ Loading image...');
            imagePlayer.setImageSrc(url);
        }
        
        function updateStatus(type, message) {
            statusIndicator.className = `status-indicator ${type}`;
            statusIndicator.innerHTML = `<span>${message}</span>`;
        }
        
        // Load initial image
        loadImage(sampleImages[0]);
    </script>
</body>
</html>
